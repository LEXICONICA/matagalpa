document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("heroCarousel");if(e){let t=new bootstrap.Carousel(e,{interval:5e3,wrap:!0,pause:!1});e.addEventListener("slid.bs.carousel",()=>t.cycle())}let a=[{img:"src/img/Cafe-Matagalpa.jpg",title:"Cafetales",text:"Conoce el proceso de producci\xf3n del caf\xe9 en las famosas fincas matagalpinas."},{img:"src/img/Cascada-La-Luna.jpg",title:"Cascadas",text:"Descubre impresionantes ca\xeddas de agua en medio de la naturaleza."},{img:"src/img/cerro_apante.jpg",title:"Cerro Apante",text:"Disfruta de impresionantes vistas desde el mirador natural de la ciudad."},{img:"src/img/Pueblo-colonial.jpg",title:"Pueblos Coloniales",text:"Explora la arquitectura tradicional de los pueblos aleda\xf1os."},{img:"src/img/Reserva-natural.jpg",title:"Reserva Natural",text:"Ad\xe9ntrate en los senderos de nuestras \xe1reas protegidas."},{img:"src/img/Selva-Negra.jpg",title:"Selva negra",text:"Donde se puede tener la oportunidad de observar su variedad de fauna y flora."},],l=document.getElementById("cardTemplate"),r=document.querySelector("#cardsCarousel .carousel-inner"),o=(e,t)=>{let a=[];for(let l=0;l<e.length;l+=t)a.push(e.slice(l,l+t));return a},n=()=>{let e=o(a,3);e.forEach((e,t)=>{let a=document.createElement("div");a.className=`carousel-item ${0===t?"active":""}`;let o=document.createElement("div");o.className="row g-4 flex-nowrap",e.forEach(e=>{let t=l.content.cloneNode(!0),a=t.querySelector("img");a&&(a.src=e.img,a.alt=e.title);let r=t.querySelector(".card-title");r&&(r.textContent=e.title);let n=t.querySelector(".card-text");n&&(n.textContent=e.text),o.appendChild(t)}),a.appendChild(o),r.appendChild(a)})};n();let s=document.getElementById("cardsCarousel");s&&new bootstrap.Carousel(s,{interval:5e3,wrap:!0,touch:!0});let c=()=>{let e=window.innerWidth<768?1:3;document.querySelectorAll(".carousel-item .row").forEach(t=>{t.classList.remove("flex-nowrap"),t.querySelectorAll(".col").forEach(t=>{t.style.flex=`0 0 ${100/e}%`,t.style.maxWidth=`${100/e}%`}),t.classList.add("flex-nowrap")})};window.addEventListener("resize",c),c(),document.querySelectorAll(".culture-card").forEach(e=>{e.addEventListener("click",function(){let e=this.querySelector(".card-content"),t=this.querySelector(".toggle-icon");"block"===e.style.display?(e.style.display="none",t.textContent="+"):(document.querySelectorAll(".card-content").forEach(e=>e.style.display="none"),document.querySelectorAll(".toggle-icon").forEach(e=>e.textContent="+"),e.style.display="block",t.textContent="â€“")})});let i=document.querySelector(".gallery-carousel");if(i){let d=i.querySelectorAll(".carousel-item"),u=i.querySelectorAll(".carousel-pagination .dot"),p=i.querySelector(".carousel-control.prev"),g=i.querySelector(".carousel-control.next"),y=0,m;function f(e){d.forEach((t,a)=>{t.classList.toggle("active",a===e)}),u.length&&u.forEach((t,a)=>{t.classList.toggle("active",a===e)}),y=e}function h(){f((y+1)%d.length)}function $(){f((y-1+d.length)%d.length)}function E(){clearInterval(m),m=setInterval(h,5e3)}g&&g.addEventListener("click",()=>{h(),E()}),p&&p.addEventListener("click",()=>{$(),E()}),u.length&&u.forEach((e,t)=>{e.addEventListener("click",()=>{f(t),E()})}),m=setInterval(h,5e3),f(0)}document.querySelectorAll(".read-more").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let a=document.getElementById(e.dataset.target);a.classList.toggle("d-none"),e.textContent=a.classList.contains("d-none")?"Leer m\xe1s...":"Mostrar menos"})});let v=document.getElementById("tradiciones"),x={threshold:.1},C=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.querySelectorAll(".tradicion-card").forEach((e,t)=>{setTimeout(()=>{e.style.opacity=1,e.style.transform="translateY(0)"},150*t)})})},x);C.observe(v),document.querySelectorAll(".tradicion-card").forEach(e=>{e.style.opacity=0,e.style.transform="translateY(20px)",e.style.transition="all 0.5s ease"});let S=[12.928951576238402,-85.9152345808286],q=L.map("map").setView(S,13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'}).addTo(q),L.marker(S).addTo(q).bindPopup("Matagalpa, Nicaragua").openPopup()});